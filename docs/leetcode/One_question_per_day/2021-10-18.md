# 2021-10-18 每日一题

## 先读题：

![2021-10-18每日一题](D:\study\JDR_Blog\docs\leetcode\One_question_per_day\img\20211018105400.png)

## 说说自己的感受和解题思路：

读完题就知道要考察**位运算**，可是我知道是位运算，但是我不会位运算呐。那怎么办？

以我对`Javascript	` `API`的熟练程度，很快啊，我就想到了`toString`、`parseInt`这两个`API`。这里先说下大概思路：

1. 通过调用`toString()`，将`num`转为二进制
2. 通过遍历字符串，对其进行取反， `str[i] = str[i] === '1' ? 0 : 1`;
3. 通过`parseInt`将取反后的二进制数字转为十进制
4. 返回结果

**贴上代码**：

```javascript
var findComplement = function(num) {
    let n = num;
    let str = [...n.toString(2)];
    for(let i = 0; i < str.length; i++) {
        str[i] = str[i] === '1' ? 0 : 1;
    }
    return parseInt(str.join('') * 1, 2)
};
```

现在我感觉这道题已经被我AC了，如此简单啊，试着执行了两个测试用例，输出结果符合预期。

点击提交，一气呵成！

在得意的等待了一两秒后，测试结果标红，状态提示**解答错误**~~~。

被打脸了(￣ε(#￣)☆╰╮(￣▽￣///)。

## 检查问题

有一点可以确定： 思路没有问题。

那就是`API`调用的问题，[MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt )打开在熟悉下这个`API`：

- **`parseInt(string, radix)`** 解析一个字符串并返回指定基数的十进制整数， `radix` 是2-36之间的整数，表示被解析字符串的基数。

  - `string`

    要被解析的值。如果参数不是一个字符串，则将其转换为字符串(使用  `ToString `抽象操作)。字符串开头的空白符将会被忽略。

  - `radix` 可选

    从 `2` 到 `36`，表示字符串的基数。例如指定 16 表示被解析值是十六进制数。请注意，10不是默认值！

  - 返回数字或者`NaN`

我可能找到问题了：手贱的给`str.join('')`乘了个1 ，-_-||。

### **修改代码**

```javascript
var findComplement = function(num) {
    let n = num;
    let str = [...n.toString(2)];
    for(let i = 0; i < str.length; i++) {
        str[i] = str[i] === '1' ? 0 : 1;
    }
    return parseInt(str.join(''), 2)
};
```

提交测试**通过**。

但是这种解答方法并不是此题的本意。此题重点在考察**位运算**。我对这个东西的感觉就和对正则表达式的感觉一样。但是既然遇到了，就是缘分，咱也不逃避，就借此机会在学习下位运算。在来解答此题。

## 位运算

计算机中的数字在内存中都是以二进制形式进行存储的，原因主要是高效。

对于熟悉十进制的我们来说，理解二进制刚开始多多少少有点困难，因为这东西有点抽象。一般没有计算机基础的人，谁知道一大串0和1代表的含义？

但作为一名合格的码农，我们必须熟悉它，原因：

- 面试要问，很可能设计算法题（关系到money）
- 高效简介，某些场景下使用进制运算可以提高代码的整洁度（关系到技术）
- 可以装逼（关系到面子）

### 位操作符

> 在计算机中，二进制以0或1来表示。我的理解方式是将0视为 false、1视为true。

- `&`：两个位都为1时，结果才为1。（两个位为都为true时，结果才为true）

```javascript

```

- `|`：两个位都为0时，结果才为0。（两个位为都为false时，结果才为false）
- `^`：两个位相同为0，不同为1。（两个位都为相同时，结果为false，不同时，结果为true）
- `~`：取反运算，1变为0，0变为1。（true变为false，false变为true）
- `<<`：左移。各二进位全部左移若干位，高位丢弃，低位补0
- `>>`：右移。各二进位全部右移若干位，对无符号数，高位补 0，对于有符号数，高位补符号位
- 





